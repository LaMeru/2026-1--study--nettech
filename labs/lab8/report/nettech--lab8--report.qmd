---
## Author
author:
  name: –ß–∏–≥–ª–∞–¥–∑–µ –ú–∞–π—è –í–ª–∞–¥–∏—Å–ª–∞–≤–æ–≤–Ω–∞
  degrees: student
  orcid: 0000-0002-0877-7063
  email: 1132239399@pfur.ru
  affiliation:
    - name: –†–æ—Å—Å–∏–π—Å–∫–∏–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç –¥—Ä—É–∂–±—ã –Ω–∞—Ä–æ–¥–æ–≤
      country: –†–æ—Å—Å–∏–π—Å–∫–∞—è –§–µ–¥–µ—Ä–∞—Ü–∏—è
      postal-code: 119530
      city: –ú–æ—Å–∫–≤–∞
      address: —É–ª. –û—á–∞–∫–æ–≤—Å–∫–æ–µ —à–æ—Å—Å–µ, –¥. 9–ê

## Title
title: "–û—Ç—á—ë—Ç –ø–æ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç–µ 8"
subtitle: "C–µ—Ç–µ–≤—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏"
license: "CC BY"
---

# –¶–µ–ª—å —Ä–∞–±–æ—Ç—ã

–ò–∑—É—á–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –≤ IPv4- –∏ IPv6-—Å–µ—Ç—è—Ö –∏ –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ –Ω–∞- —Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ç–µ–≤–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è.

# –ó–∞–¥–∞–Ω–∏–µ

–ó–∞–¥–∞–Ω–∞ —Å–µ—Ç—å (—Ä–∏—Å. 8.4), –∞–¥—Ä–µ—Å–∞ —Å–µ–≥–º–µ–Ω—Ç–æ–≤ —Å–µ—Ç–∏ (—Ç–∞–±–ª. 8.1), –∞–¥—Ä–µ—Å–∞, –Ω–∞–∑–Ω–∞—á–∞–µ–º—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤ (—Ç–∞–±–ª. 8.2). –¢—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫—É—é –º–∞—Ä—à—Ä—É- —Ç–∏–∑–∞—Ü–∏—é –ø–æ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞–º RIP, OSPF.

# –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–æ–µ –≤–≤–µ–¥–µ–Ω–∏–µ

–û–∫–æ–Ω–µ—á–Ω–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (Data Terminal Equipment, DTE) ‚Äî —Ç–µ—Ä–º–∏–Ω –¥–ª—è –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–µ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º. –û–±—ã—á- –Ω–æ —Ç–∞–∫–∏–º –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ–º —è–≤–ª—è–µ—Ç—Å—è —Ç–µ—Ä–º–∏–Ω–∞–ª –∏–ª–∏ –≠–í–ú. –ù–∞ DTE –∏—Å–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø—Ä–∏–∫–ª–∞–¥–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã.
–û–∫–æ–Ω–µ—á–Ω–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞ –¥–∞–Ω–Ω—ã—Ö (Data Circuit-terminating Equipment, DCE) –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ DTE –∫ —Å–≤—è–∑–Ω–æ–º—É –∫–∞–Ω–∞–ª—É –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞- –Ω–∏—è –∏ —É—Å–∏–ª–µ–Ω–∏—è —Å–∏–≥–Ω–∞–ª–∞, —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ DTE.
–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä —Å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º –º–æ–∂–Ω–æ —Å—á–∏—Ç–∞—Ç—å –∫–∞–∫ —É—Å—Ç—Ä–æ–π- —Å—Ç–≤–æ–º DCE (–º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä —Ç–æ–ª—å–∫–æ —Ç—Ä–∞–Ω—Å–ª–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Å–µ—Ç–µ–≤–æ–º —É—Ä–æ–≤–Ω–µ), —Ç–∞–∫ –∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ–º DTE (—Ü–µ–ø–æ—á–∫–∏ –±–∏—Ç –Ω–∞ –≤—ã—Ö–æ–¥–µ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä —Å–∞–º –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∏ —Å–∞–º –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—Ä–∏–Ω—è—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ). –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ, –∫–æ—Ä—Ä–µ–∫—Ç–Ω–µ–µ –≥–æ–≤–æ—Ä–∏—Ç—å –æ —Ç–∏–ø–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ (DTE/DCE), –ø—Ä–∏ —ç—Ç–æ–º –∏–º–µ—è –≤ –≤–∏–¥—É —Å–ª–µ–¥—É—é—â–∏–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏—è:
‚Äì–¥–ª—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —Ç–∏–ø–∞ DTE —Å–∏–≥–Ω–∞–ª, –æ–±–æ–∑–Ω–∞—á–∞–µ–º—ã–π –∫–∞–∫ TxD (–¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥–∞—Ç—á–∏- –∫–∞), —è–≤–ª—è–µ—Ç—Å—è –≤—ã—Ö–æ–¥–Ω—ã–º, —Å–∏–≥–Ω–∞–ª RxD (–¥–∞–Ω–Ω—ã–µ –ø—Ä–∏—ë–º–Ω–∏–∫–∞) ‚Äî –≤—Ö–æ–¥–Ω—ã–º;
‚Äì–¥–ª—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —Ç–∏–ø–∞ DCE —Å–∏–≥–Ω–∞–ª, –æ–±–æ–∑–Ω–∞—á–∞–µ–º—ã–π –∫–∞–∫ TxD, —è–≤–ª—è–µ—Ç—Å—è –≤—Ö–æ–¥–Ω—ã–º (—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –¥–æ–ª–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –∫–∞–Ω–∞–ª —Å–≤—è–∑–∏), –∞ —Å–∏–≥–Ω–∞–ª RxD ‚Äî –≤—ã—Ö–æ–¥- –Ω—ã–º (–¥–∞–Ω–Ω—ã–µ –∏–∑ –∫–∞–Ω–∞–ª–∞, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –ø–æ–ø–∞—Å—Ç—å –Ω–∞ –≤—Ö–æ–¥ –ø—Ä–∏—ë–º–Ω–∏–∫–∞ DTE). –ò–∑ —Å–æ–≥–ª–∞—à–µ–Ω–∏–π —Å–ª–µ–¥—É–µ—Ç, —á—Ç–æ –ø—Ä–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–∏ DTE —Å DCE –æ–¥–Ω–æ–∏–º—ë–Ω–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—å-
–Ω—ã–µ —Ü–µ–ø–∏ –¥–æ–ª–∂–Ω—ã —Å–æ–µ–¥–∏–Ω—è—Ç—å—Å—è —á–µ—Ä–µ–∑ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Ç–æ—á–∫–∞-—Ç–æ—á–∫–∞. –ü—Ä–∏ –æ–¥–Ω–æ—Ç–∏–ø–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è—Ö (DTE-DTE –∏–ª–∏ DCE-DCE) —Å–∏–≥–Ω–∞–ª—å–Ω—ã–µ —Ü–µ–ø–∏ –¥–æ–ª–∂–Ω—ã —Å–æ–µ–¥–∏–Ω—è—Ç—å—Å—è –ø–µ—Ä–µ–∫—Ä–µ—Å—Ç–Ω–æ (TxD-RxD, RxD-TxD), –∞ —É–ø—Ä–∞–≤–ª—è—é—â–∏–µ ‚Äî –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –ª–æ–≥–∏–∫–æ–π –ø—Ä–æ—Ç–æ–∫–æ–ª–∞.
–î–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ –ø–µ—Ä–µ–¥–∞—á–∏ –ø–æ—Å–∏–º–≤–æ–ª—å–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –æ—Å—É—â–µ—Å—Ç–≤- –ª—è–µ—Ç—Å—è —Å—Ç–∞—Ä—Ç-–±–∏—Ç–∞–º–∏ –∏ –≤–Ω–µ—à–Ω—è—è –ø–æ–¥–∞—á–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è (—Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ –¥–æ–ø—É—Å–∫–∏ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω—ã, –∏ –ª—é–±–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∏–º–µ–µ—Ç —Å–≤–æ–π –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä). –í —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ –≤—Å–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏—Å–ø–æ–ª—å–∑—É- —é—Ç –≤–Ω–µ—à–Ω–∏–µ —Å–∏–≥–Ω–∞–ª—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏, –ø—Ä–∏—á—ë–º —Ä–∞–∑–¥–µ–ª—å–Ω—ã–µ –¥–ª—è –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã—Ö ST (Send Timing, Send Clock) –∏ –ø—Ä–∏–Ω–∏–º–∞–µ–º—ã—Ö RT (Receive Timing, Receive Clock) –¥–∞–Ω–Ω—ã—Ö.

# –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç—ã

## –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏—Ä—É–µ–º–æ–π —Å–µ—Ç–∏.

1.–ü—Ä–æ–¥—É–±–ª–∏—Ä—É–π—Ç–µ –≤ –æ—Ç—á—ë—Ç–µ —Ç–∞–±–ª–∏—Ü—ã –∞–¥—Ä–µ—Å–∞—Ü–∏–∏ (—Ç–∞–±–ª. 8.1, —Ç–∞–±–ª. 8.2). (—Å–º. —Ä–∏—Å. @fig-011).

![–î—É–±–ª–∏—Ä—É—é —Ç–∞–±–ª–∏—Ü—ã](image/1.1.jpg){#fig-011 width=70%}

2.–í –ª—é–±–æ–º –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, DIA) —Å—Ö–µ–º–∞—Ç–∏—á–Ω–æ –∏–∑–æ–±—Ä–∞–∑–∏—Ç–µ –º–æ–¥–µ–ª–∏—Ä—É–µ–º—É—é —Å–µ—Ç—å. –†–∞–∑—Ä–∞–±–æ—Ç–∞–π—Ç–µ —Å—Ö–µ–º—ã L1 –∏ L3 (—Å–º. –Ω–∞–ø—Ä–∏–º–µ—Ä —Ä–∏—Å. 8.1, 8.3), –æ—Ä–∏–µ–Ω—Ç–∏—Ä—É—è—Å—å –Ω–∞ –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ç–∞–±–ª–∏—Ü –∞–¥—Ä–µ—Å–∞—Ü–∏–∏. –°—Ö–µ–º—ã –¥–æ–±–∞–≤—å—Ç–µ –≤ –æ—Ç—á—ë—Ç. (—Å–º. —Ä–∏—Å. @fig-012).

![–ú–æ–¥–µ–ª–∏—Ä—É–µ–º —Å–µ—Ç—å](image/1.2.jpg){#fig-012 width=70%}

## –¢–æ–ø–æ–ª–æ–≥–∏—è –º–æ–¥–µ–ª–∏—Ä—É–µ–º–æ–π —Å–µ—Ç–∏.

1.–ó–∞–ø—É—Å—Ç–∏—Ç–µ GNS3 VM –∏ GNS3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç. (—Å–º. —Ä–∏—Å. @fig-021).

![–ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–æ–≥—Ä–∞–º–º—ã](image/2.1.jpg){#fig-021 width=70%}

2.–í —Ä–∞–±–æ—á–µ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ —Ä–∞–∑–º–µ—Å—Ç–∏—Ç–µ –∏ —Å–æ–µ–¥–∏–Ω–∏—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å —Ç–æ–ø–æ–ª–æ–≥–∏–µ–π, –ø—Ä–∏–≤–µ–¥—ë–Ω–Ω–æ–π –Ω–∞ —Ä–∏—Å. 8.4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä—ã FRR. (—Å–º. —Ä–∏—Å. @fig-022).

![–°–æ–µ–¥–∏–Ω—è–µ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞](image/2.2.jpg){#fig-022 width=70%}

3.–ò–∑–º–µ–Ω–∏—Ç–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤. –ö–æ–º–º—É—Ç–∞—Ç–æ—Ä–∞–º –ø—Ä–∏—Å–≤–æ–π—Ç–µ –Ω–∞- –∑–≤–∞–Ω–∏—è –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É msk-user-sw-0x, –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–∞–º ‚Äî –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É msk-user-gw-0x, VPCS ‚Äî –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É PCx-user, –≥–¥–µ –≤–º–µ—Å—Ç–æ user —É–∫–∞–∂–∏—Ç–µ –∏–º—è –≤–∞—à–µ–π —É—á—ë—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏, –≤–º–µ—Å—Ç–æ x ‚Äî –ø–æ—Ä—è–¥–∫–æ–≤—ã–π –Ω–æ–º–µ—Ä —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞. (—Å–º. —Ä–∏—Å. @fig-023).

![–ò–∑–º–µ–Ω—è–µ–º –Ω–∞–∑–≤–∞–Ω–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤](image/2.3.jpg){#fig-023 width=70%}

4.–í–∫–ª—é—á–∏—Ç–µ –∑–∞—Ö–≤–∞—Ç —Ç—Ä–∞—Ñ–∏–∫–∞ –Ω–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–∏ –º–µ–∂–¥—É –∫–æ–º–º—É—Ç–∞—Ç–æ—Ä–æ–º sw-01 –∏ –º–∞—Ä—à- —Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–æ–º gw-01, –∞ —Ç–∞–∫–∂–µ –º–µ–∂–¥—É –∫–æ–º–º—É—Ç–∞—Ç–æ—Ä–æ–º sw-02 –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–æ–º gw-03. (—Å–º. —Ä–∏—Å. @fig-024).

![–í–∫–ª—é—á–∞–µ–º –∑–∞—Ö–≤–∞—Ç](image/2.4.jpg){#fig-024 width=70%}

–ü—Ä–∏—Å–≤–æ–π—Ç–µ IPv4-–∞–¥—Ä–µ—Å–∞ –æ–∫–æ–Ω–µ—á–Ω—ã–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º PC1 –∏ PC2 –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –¥–∞–Ω–Ω—ã–º–∏ –≤ —Ç–∞–±–ª. 8.2 ([—Ä–∏—Å. @fig-025]).

![–ü—Ä–∏—Å–≤–æ–∏—Ç—å –∞–¥—Ä–µ—Å–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞](image/2.5.jpg){#fig-025 width=70%}

6.–ù–∞—Å—Ç—Ä–æ–π—Ç–µ IPv4-–∞–¥—Ä–µ—Å–∞ –Ω–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–æ–≤ ([—Ä–∏—Å. @fig-026]).

![–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–¥—Ä–µ—Å–∞](image/2.6.jpg){#fig-026 width=70%}

7.–ü—Ä–∏—Å–≤–æ–π—Ç–µ IPv6-–∞–¥—Ä–µ—Å–∞ –æ–∫–æ–Ω–µ—á–Ω—ã–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º PC1 –∏ PC2 –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –¥–∞–Ω–Ω—ã–º–∏ –≤ —Ç–∞–±–ª. 8.2 ([—Ä–∏—Å. @fig-027]).

![–ü—Ä–∏—Å–≤–æ–π—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º –Ω–∞–∑–≤–∞–Ω–∏—è](image/2.7.jpg){#fig-027 width=70%}

8.–ù–∞—Å—Ç—Ä–æ–π—Ç–µ IPv6-–∞–¥—Ä–µ—Å–∞ –Ω–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–æ–≤ ([—Ä–∏—Å. @fig-028]).

![–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–¥—Ä–µ—Å–∞ –Ω–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö](image/2.8.jpg){#fig-028 width=70%}

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –ø–æ –ø—Ä–æ—Ç–æ–∫–æ–ª—É RIP.

–ù–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–∞—Ö –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ RIP –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ ([—Ä–∏—Å. @fig-031]).

![–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º —Ä–∏–ø](image/3.1.jpg){#fig-031 width=70%}

2.–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –ø–æ RIP –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ (—Å–º. —Ä–∏—Å. @fig-032).

![–£–±–µ–¥–∏–º—Å—è —á—Ç–æ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞](image/3.2.jpg){#fig-032 width=70%}

3.–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç–∏ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –ø–∞–∫–µ—Ç–æ–≤ (—Å–º. —Ä–∏—Å. @fig-033).

![–ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—É—Ç–∏ –ø–∞–∫–µ—Ç–æ–≤](image/3.3.jpg){#fig-033 width=70%}

4.–ù–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–∞—Ö –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ RIPng –¥–ª—è —Å–µ—Ç–µ–π IPv6 (—Å–º. —Ä–∏—Å. @fig-034).

![–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º —Ä–∏–ø](image/3.4.jpg){#fig-034 width=70%}

5.–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç–∏ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –ø–∞–∫–µ—Ç–æ–≤ ([—Ä–∏—Å. @fig-035]).

![–ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—É—Ç–∏ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è](image/3.5.jpg){#fig-035 width=70%}

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –ø–æ –ø—Ä–æ—Ç–æ–∫–æ–ª—É OSPF.

1.–ù–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–∞—Ö –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ OSPFv2 –¥–ª—è —Å–µ—Ç–µ–π IPv4 ([—Ä–∏—Å. @fig-041]).

![–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –æ—Å–ø—Ñ–≤2](image/4.1.jpg){#fig-041 width=70%}

2.–° PC1 –ø—Ä–æ–ø–∏–Ω–≥—É–π—Ç–µ PC2 –∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –ø—É—Ç—å —Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –ø–∞–∫–µ—Ç–æ–≤ ([—Ä–∏—Å. @fig-042]).

![–ü—Ä–æ–ø–∏–Ω–≥—É–µ–º](image/4.2.jpg){#fig-042 width=70%}

3.–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–∞–±–ª–∏—Ü—É –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ OSPFv2 ([—Ä–∏—Å. @fig-043]).

![–ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–∞–±–ª–∏—Ü—É –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏](image/4.3.jpg){#fig-043 width=70%}

4.–ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, —á—Ç–æ –ø–∞–∫–µ—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä msk-user-gw-02 (–≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä msk-user-gw-04). –û—Ç–∫–ª—é—á–∏—Ç–µ –Ω–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–µ msk-user-gw-02 –∏–Ω—Ç–µ—Ä- —Ñ–µ–π—Å ([—Ä–∏—Å. @fig-044]).

![–ü–∞–∫–µ—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ –º–∞—Ä—â—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä](image/4.4.jpg){#fig-044 width=70%}

5.–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–∞–±–ª–∏—Ü—É –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ OSPFv2([—Ä–∏—Å. @fig-045]).

![–ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–∞–±–ª–∏—Ü—É](image/4.5.jpg){#fig-045 width=70%}

6.–° PC1 –ø—Ä–æ–ø–∏–Ω–≥—É–π—Ç–µ PC2 –∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –ø—É—Ç—å —Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –ø–∞–∫–µ—Ç–æ–≤. –û—Ç–º–µ—Ç—å—Ç–µ –ø—Ä–∏–º–µ—Ä–Ω–æ–µ –≤—Ä–µ–º—è, –∑–∞ –∫–æ—Ç–æ—Ä–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –º–∞—Ä—à—Ä—É—Ç. ([—Ä–∏—Å. @fig-046]).

![–ü—Ä–æ–ø–∏–Ω–≥—É–µ–º](image/4.6.jpg){#fig-046 width=70%}

7.–í–∫–ª—é—á–∏—Ç–µ –Ω–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–µ msk-user-gw-02 –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å ([—Ä–∏—Å. @fig-047]).

![–í–∫–ª—é—á–∏–º –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä](image/4.7.jpg){#fig-047 width=70%}

8.–° PC1 –ø—Ä–æ–ø–∏–Ω–≥—É–π—Ç–µ PC2 –∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –ø—É—Ç—å —Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –ø–∞–∫–µ—Ç–æ–≤. ([—Ä–∏—Å. @fig-048]).

![–ü—Ä–æ–ø–∏–Ω–≥—É–µ–º](image/4.8.jpg){#fig-048 width=70%}

9.–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –∑–∞—Ö–≤–∞—á–µ–Ω–Ω—ã–π –Ω–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è—Ö —Ç—Ä–∞—Ñ–∏–∫. –í –æ—Ç—á—ë—Ç–µ –ø–æ—è—Å–Ω–∏—Ç–µ, –∫–∞–∫—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –º–æ–∂–Ω–æ –∏–∑–≤–ª–µ—á—å –∏–∑ –ø–µ—Ä–µ—Ö–≤–∞—á–µ–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤. ([—Ä–∏—Å. @fig-049]).

![–°–º–æ—Ç—Ä–∏–º –∑–∞—Ö–≤–∞—á–µ–Ω–Ω—ã–π —Ç—Ä–∞—Ñ–∏–∫](image/4.9.jpg){#fig-049 width=70%}

–ü–æ—è—Å–Ω–µ–Ω–∏–µ:

- –í –∑–∞—Ö–≤–∞—Ç–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ IPv4 –∏ IPv6 —Ç—Ä–∞—Ñ–∏–∫ (link‚Äëlocal IPv6 –∞–¥—Ä–µ—Å–∞ –≤–∏–¥–∞ fe80::‚Ä¶, RIPng/OSPF –¥–ª—è IPv6 –∏ RIPv2/OSPF –¥–ª—è IPv4).

- –í–∏–¥–Ω—ã: ARP, ICMP (Echo/Time‚ÄëExceeded), TCP (—Å–µ—Ä–∏—è SYN + –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏), –ø—Ä–æ—Ç–æ–∫–æ–ª—ã –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ (OSPF Hello, RIPv2 –∏ RIPng).

- –ù–∞–±–ª—é–¥–∞–µ—Ç—Å—è –ø–æ–ø—ã—Ç–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ TCP‚Äë—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ –¥–æ—Ö–æ–¥–∏—Ç –¥–æ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (–º–Ω–æ–≥–æ TCP retransmissions / –ø–æ—Ä—Ç–Ω—ã–µ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏) ‚Äî –≤–µ—Ä–æ—è—Ç–Ω–∞—è –ø–æ—Ç–µ—Ä—è –ø–∞–∫–µ—Ç–æ–≤/—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è/–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç.

10.–ù–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–∞—Ö –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ OSPFv3 –¥–ª—è —Å–µ—Ç–µ–π IPv6 ([—Ä–∏—Å. @fig-410]).

![–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –¥–ª—è —Å–µ—Ç–µ–π](image/4.10.jpg){#fig-410 width=70%}

11.–° PC1 –ø—Ä–æ–ø–∏–Ω–≥—É–π—Ç–µ PC2 –∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –ø—É—Ç—å —Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –ø–∞–∫–µ—Ç–æ–≤:
PC1> ping 2001:11::a
PC1> trace 2001:11::a ([—Ä–∏—Å. @fig-411]).

![–ü–∏–Ω–≥—É–µ–º –∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ–º –ø—É—Ç—å](image/4.11.jpg){#fig-411 width=70%}

12.–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–∞–±–ª–∏—Ü—É –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ OSPFv3: msk-user-gw-01# show ipv6 ospf6 neighbor msk-user-gw-01# show ipv6 ospf6 route ([—Ä–∏—Å. @fig-412]).

![–ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–∞–±–ª–∏—Ü—É –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏](image/4.12.jpg){#fig-412 width=70%}

13.–ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, —á—Ç–æ –ø–∞–∫–µ—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä msk-user-gw-02 (–≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä msk-user-gw-04). –û—Ç–∫–ª—é—á–∏—Ç–µ –Ω–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–µ msk-user-gw-02 –∏–Ω—Ç–µ—Ä- —Ñ–µ–π—Å:
msk-user-gw-02# configure terminal msk-user-gw-02(config)# interface eth0 msk-user-gw-02(config-if)# shutdown ([—Ä–∏—Å. @fig-413]).

![–ü–∞–∫–µ—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä](image/4.13.jpg){#fig-413 width=70%}

14.–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–∞–±–ª–∏—Ü—É –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ OSPFv3: msk-user-gw-01# show ipv6 ospf6 route ([—Ä–∏—Å. @fig-414]).

![–ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–∞–±–ª–∏—Ü—É](image/4.14.jpg){#fig-414 width=70%}

15.–° PC1 –ø—Ä–æ–ø–∏–Ω–≥—É–π—Ç–µ PC2 –∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –ø—É—Ç—å —Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –ø–∞–∫–µ—Ç–æ–≤. –û—Ç–º–µ—Ç—å—Ç–µ –ø—Ä–∏–º–µ—Ä–Ω–æ–µ –≤—Ä–µ–º—è, –∑–∞ –∫–æ—Ç–æ—Ä–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –º–∞—Ä—à—Ä—É—Ç. ([—Ä–∏—Å. @fig-415]).

![–ü—Ä–æ–ø–∏–Ω–≥—É–µ–º –∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ–º –ø—É—Ç—å](image/4.15.jpg){#fig-415 width=70%}

16.–í–∫–ª—é—á–∏—Ç–µ –Ω–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–µ msk-user-gw-02 –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:
msk-user-gw-02# configure terminal msk-user-gw-02(config)# interface eth0
msk-user-gw-02(config-if)# no shutdown ([—Ä–∏—Å. @fig-416]).

![–í–∫–ª—é—á–∞–µ–º –Ω–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å](image/4.16.jpg){#fig-416 width=70%}

17.–° PC1 –ø—Ä–æ–ø–∏–Ω–≥—É–π—Ç–µ PC2 –∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –ø—É—Ç—å —Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –ø–∞–∫–µ—Ç–æ–≤. ([—Ä–∏—Å. @fig-417]).

![–ü—Ä–æ–ø–∏–Ω–≥—É–µ–º –∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ–º –ø—É—Ç—å](image/4.17.jpg){#fig-417 width=70%}

18.–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –∑–∞—Ö–≤–∞—á–µ–Ω–Ω—ã–π –Ω–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è—Ö —Ç—Ä–∞—Ñ–∏–∫. –í –æ—Ç—á—ë—Ç–µ –ø–æ—è—Å–Ω–∏—Ç–µ, –∫–∞–∫—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –º–æ–∂–Ω–æ –∏–∑–≤–ª–µ—á—å –∏–∑ –ø–µ—Ä–µ—Ö–≤–∞—á–µ–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤. ([—Ä–∏—Å. @fig-418]).

![–°–º–æ—Ç—Ä–∏–º –Ω–∞ –∑–∞—Ö–≤–∞—á–µ–Ω–Ω—ã–π —Ç—Ä–∞—Ñ–∏–∫](image/4.18.jpg){#fig-418 width=70%}

–ü–æ—è—Å–Ω–µ–Ω–∏–µ:

1. –¢–∏–ø—ã –∞–¥—Ä–µ—Å–æ–≤: –í —Ç—Ä–∞—Ñ–∏–∫–µ –∞–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫–∞–∫ –∞–¥—Ä–µ—Å–∞ IPv6 (–≥–ª–æ–±–∞–ª—å–Ω—ã–µ –∞–¥—Ä–µ—Å–∞ 2001:10::a, 2001:11::a, –∞ —Ç–∞–∫–∂–µ Link-Local –∞–¥—Ä–µ—Å–∞ fe80::...), —Ç–∞–∫ –∏ –∞–¥—Ä–µ—Å–∞ IPv4 (10.0.10.1, –º—É–ª—å—Ç–∏–∫–∞—Å—Ç 224.0.0.5).

2. –ü—Ä–æ—Ç–æ–∫–æ–ª—ã –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏: –°–µ—Ç—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫—É—é –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é.
  
  ‚Ä¢  IPv4: –ü—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –ø–∞–∫–µ—Ç—ã OSPF Hello (78 –±–∞–π—Ç, Destination 224.0.0.5) –∏ RIPv2 Response (146 –±–∞–π—Ç).
  
  ‚Ä¢  IPv6: –ü—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –ø–∞–∫–µ—Ç—ã OSPF Hello (90 –±–∞–π—Ç, Destination ff02::5) –∏ RIPng Command Response.
 
  ‚Ä¢  –í—ã–≤–æ–¥: –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä—ã –∞–∫—Ç–∏–≤–Ω–æ –æ–±–º–µ–Ω–∏–≤–∞—é—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –≤ –æ–±–µ–∏—Ö –≤–µ—Ä—Å–∏—è—Ö IP.

## 8.3.2.–ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Ç—É–Ω–Ω–µ–ª—è IPv6‚ÄìIPv4

1.–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –≤ GNS3. ([—Ä–∏—Å. @fig-051]).

![–°–æ–∑–¥–∞–¥–∏–º –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç](image/5.1.jpg){#fig-051 width=70%}

2.–í —Ä–∞–±–æ—á–µ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ —Ä–∞–∑–º–µ—Å—Ç–∏—Ç–µ –∏ —Å–æ–µ–¥–∏–Ω–∏—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å —Ç–æ–ø–æ–ª–æ–≥–∏–µ–π, –ø—Ä–∏–≤–µ–¥—ë–Ω–Ω–æ–π –Ω–∞ —Ä–∏—Å. 8.5. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä—ã VyOS. ([—Ä–∏—Å. @fig-052]).

![–†–∞–∑–º–µ—â–∞–µ–º –∏ —Å–æ–µ–¥–∏–Ω—è–µ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞](image/5.2.jpg){#fig-052 width=70%}

3.–ò–∑–º–µ–Ω–∏—Ç–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤. –ö–æ–º–º—É—Ç–∞—Ç–æ—Ä–∞–º –ø—Ä–∏—Å–≤–æ–π—Ç–µ –Ω–∞- –∑–≤–∞–Ω–∏—è –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É msk-user-sw-0x, –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–∞–º ‚Äî –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É msk-user-gw-0x, VPCS ‚Äî –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É PCx-user, –≥–¥–µ –≤–º–µ—Å—Ç–æ user —É–∫–∞–∂–∏—Ç–µ –∏–º—è –≤–∞—à–µ–π —É—á—ë—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏, –≤–º–µ—Å—Ç–æ x ‚Äî –ø–æ—Ä—è–¥–∫–æ–≤—ã–π –Ω–æ–º–µ—Ä —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞. ([—Ä–∏—Å. @fig-053]).

![–ò–∑–º–µ–Ω—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤](image/5.3.jpg){#fig-053 width=70%}

4.–ù–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–∏ –º–µ–∂–¥—É –ø–µ—Ä–≤—ã–º –∏ —Ç—Ä–µ—Ç—å–∏–º –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–∞–º–∏ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä —Ç—Ä–∞—Ñ–∏–∫–∞. ([—Ä–∏—Å. @fig-054]).

![–ü–æ–¥–∫–ª—é—á–∞–µ–º –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä](image/5.4.jpg){#fig-054 width=70%}

5.–ü—Ä–∏—Å–≤–æ–π—Ç–µ –∞–¥—Ä–µ—Å–∞ –æ–∫–æ–Ω–µ—á–Ω—ã–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º PC1 –∏ PC2 –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –¥–∞–Ω- –Ω—ã–º–∏ –≤ —Ç–∞–±–ª. 8.3:
PC1-user:
ip 1000::a/64 save
show ipv6

PC2-user:
ip 1002::a/64 save
show ipv6 ([—Ä–∏—Å. @fig-055]).

![–ü—Ä–∏—Å–≤–∞–∏–≤–∞–µ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞](image/5.5.jpg){#fig-055 width=70%}

6.–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–∏—Å—Ç–µ–º—É –Ω–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä—ã VyOS:
vyos@vyos:~$ install image
–î–∞–ª–µ–µ –æ—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –¥–∏–∞–ª–æ–≥–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏. –ü–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –¥–∏–∞–ª–æ–≥–∞ –ø–µ—Ä–µ- –∑–∞–ø—É—Å—Ç–∏—Ç–µ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä, –≤–≤–µ–¥—è –∫–æ–º–∞–Ω–¥—É reboot. ([—Ä–∏—Å. @fig-056]).

![–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–∏—Å—Ç–µ–º—É](image/5.6.jpg){#fig-056 width=70%}

7.–ù–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–∞—Ö –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–µ–∂–∏–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω–∏—è, –∏–∑–º–µ–Ω–∏—Ç–µ –∏–º—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (–≤–º–µ—Å—Ç–æ user —É–∫–∞–∂–∏—Ç–µ –∏–º—è –≤–∞—à–µ–π —É—á—ë—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏, –≤–º–µ—Å—Ç–æ x ‚Äî –ø–æ—Ä—è–¥–∫–æ–≤—ã–π –Ω–æ–º–µ—Ä —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞):
vyos@vyos$ configure
vyos@vyos# set system host-name msk-user-gw-0x vyos@vyos# compare
vyos@vyos# commit vyos@vyos# save vyos@vyos# exit vyos@vyos$ reboot ([—Ä–∏—Å. @fig-057]).

![–ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ —Ä–µ–∂–∏–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏](image/5.7.jpg){#fig-057 width=70%}

8.–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–¥—Ä–µ—Å–∞ –Ω–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–æ–≤:
msk-user-gw-01:
vyos@msk-user-gw-01:~$ configure
vyos@msk-user-gw-01# set interfaces ethernet eth0 address
ùóå  1000::1/64
vyos@msk-user-gw-01# set interfaces ethernet eth1 address
ùóå  10.0.0.1/8
vyos@msk-user-gw-01# set service router-advert interface
ùóå	eth0 prefix 1000::/64
vyos@msk-user-gw-01# commit vyos@msk-user-gw-01# save
msk-user-gw-02:
vyos@msk-user-gw-02:~$ configure
vyos@msk-user-gw-02# set interfaces ethernet eth0 address
ùóå  1002::1/64
vyos@msk-user-gw-02# set interfaces ethernet eth1 address
ùóå	20.0.0.2/8
vyos@msk-user-gw-02# set service router-advert interface
ùóå	eth0 prefix 1002::/64
vyos@msk-user-gw-02# commit vyos@msk-user-gw-02# save
msk-user-gw-03:
vyos@msk-user-gw-03:~$ configure
vyos@msk-user-gw-03# set interfaces ethernet eth0 address
ùóå  10.0.0.2/8
vyos@msk-user-gw-03# set interfaces ethernet eth1 address
ùóå	20.0.0.1/8
vyos@msk-user-gw-03# commit vyos@msk-user-gw-03# save ([—Ä–∏—Å. @fig-058]).

![–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –∞–¥—Ä–µ—Å–∞ –Ω–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö](image/5.8.jpg){#fig-058 width=70%}

9.–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–∞ PC –ø–æ—è–≤–∏–ª–∏—Å—å –∞–¥—Ä–µ—Å–∞ –±–ª–∏–∂–∞–π—à–∏—Ö –∫ –Ω–∏–º –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–æ–≤:
PCx-user: show ipv6 ([—Ä–∏—Å. @fig-059]).

![–ü–° –ø–æ—è–≤–∏–ª—Å—è –Ω–∞ –∞–¥—Ä–µ—Å–∞—Ö](image/5.9.jpg){#fig-059 width=70%}

10.–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –º–∞—Ä—à—Ä—É—Ç—ã —Å –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–∞ R1:
vyos@msk-user-gw-01:~$ ping 10.0.0.2
vyos@msk-user-gw-01:~$ ping 20.0.0.1
vyos@msk-user-gw-01:~$ ping 20.0.0.2
–í –æ—Ç—á—ë—Ç–µ –ø–æ—è—Å–Ω–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏, –≤ —Ç–æ–º —á–∏—Å–ª–µ —Å —É—á—ë—Ç–æ–º –∞–Ω–∞–ª–∏–∑–∞ —Ç—Ä–∞—Ñ–∏–∫–∞. ([—Ä–∏—Å. @fig-0510]).

![–ü—Ä–æ–≤–µ—Ä—è–µ–º –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä](image/5.10.jpg){#fig-0510 width=70%}

–ü–æ—è—Å–Ω–µ–Ω–∏–µ:
–ß—Ç–æ –†–ê–ë–û–¢–ê–ï–¢:
ping 10.0.0.2 - —É—Å–ø–µ—à–Ω–æ, –ø–∞–∫–µ—Ç—ã –¥–æ—Ö–æ–¥—è—Ç –¥–æ gw-03

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Å–≤—è–∑—å –º–µ–∂–¥—É gw-01 (10.0.0.1) –∏ gw-03 (10.0.0.2) —Ä–∞–±–æ—Ç–∞–µ—Ç

–ß—Ç–æ –ù–ï –†–ê–ë–û–¢–ê–ï–¢:
ping 20.0.0.1 - Network is unreachable

ping 20.0.0.2 - Network is unreachable

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä –Ω–µ –∑–Ω–∞–µ—Ç –ø—É—Ç–∏ –∫ —Å–µ—Ç—è–º 20.0.0.0/8

11.–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é IPv4:
msk-user-gw-01:
vyos@msk-user-gw-01:~$ configure
vyos@msk-user-gw-01# set protocols rip network 10.0.0.0/8 vyos@msk-user-gw-01# commit
vyos@msk-user-gw-01# save msk-user-gw-02:
vyos@msk-user-gw-02:~$ configure
vyos@msk-user-gw-02# set protocols rip network 20.0.0.0/8 vyos@msk-user-gw-02# commit
vyos@msk-user-gw-02# save msk-user-gw-03:
vyos@msk-user-gw-03:~$ configure
vyos@msk-user-gw-03# set protocols rip network 10.0.0.0/8 vyos@msk-user-gw-03# set protocols rip network 20.0.0.0/8 vyos@msk-user-gw-03# commit
vyos@msk-user-gw-03# save ([—Ä–∏—Å. @fig-0511]).

![–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é](image/5.11.jpg){#fig-0511 width=70%}

12.–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –º–∞—Ä—à—Ä—É—Ç—ã:
vyos@msk-user-gw-01:~$ ping 10.0.0.2
vyos@msk-user-gw-01:~$ ping 20.0.0.1
vyos@msk-user-gw-01:~$ ping 20.0.0.2
–í –æ—Ç—á—ë—Ç–µ –ø–æ—è—Å–Ω–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏, –≤ —Ç–æ–º —á–∏—Å–ª–µ —Å —É—á—ë—Ç–æ–º –∞–Ω–∞–ª–∏–∑–∞ —Ç—Ä–∞—Ñ–∏–∫–∞. ([—Ä–∏—Å. @fig-0512]).

![–ü—Ä–æ–≤–µ—Ä—è–µ–º –º–∞—Ä—à—Ä—É—Ç—ã](image/5.12.jpg){#fig-0512 width=70%}

–ü–æ—è—Å–Ω–µ–Ω–∏–µ:
–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∞–∑–æ–≤—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –∏ RIP –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –¥–ª—è IPv4 –æ–±–µ—Å–ø–µ—á–µ–Ω–∞ —Å–≤—è–∑–Ω–æ—Å—Ç—å –º–µ–∂–¥—É –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–∞–º–∏, –Ω–æ —Å–≤—è–∑—å –º–µ–∂–¥—É –∫–æ–Ω–µ—á–Ω—ã–º–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏ PC1 –∏ PC2 –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, —Ç–∞–∫ –∫–∞–∫ —Ç—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç—É–Ω–Ω–µ–ª—è IPv6 –ø–æ–≤–µ—Ä—Ö IPv4 –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ IPv6.

13.–°–æ–∑–¥–∞–π—Ç–µ —Ç—É–Ω–Ω–µ–ª—å IPv6 —á–µ—Ä–µ–∑ —Å–µ—Ç—å IPv4:
msk-user-gw-01:
vyos@msk-user-gw-01:~$ configure
vyos@msk-user-gw-01# set interfaces tunnel tun0
ùóå	encapsulation sit
vyos@msk-user-gw-01# set interfaces tunnel tun0
ùóå	source-address 10.0.0.1
vyos@msk-user-gw-01# set interfaces tunnel tun0 remote
ùóå	20.0.0.2
vyos@msk-user-gw-01# set interfaces tunnel tun0 address
ùóå  1001::1/64
vyos@msk-user-gw-01# commit vyos@msk-user-gw-01# save
msk-user-gw-02:
vyos@msk-user-gw-02:~$ configure
vyos@msk-user-gw-02# set interfaces tunnel tun0
ùóå	encapsulation sit
vyos@msk-user-gw-02# set interfaces tunnel tun0
ùóå	source-address 20.0.0.2
vyos@msk-user-gw-02# set interfaces tunnel tun0 remote
ùóå  10.0.0.1
vyos@msk-user-gw-02# set interfaces tunnel tun0 address
ùóå  1001::2/64
vyos@msk-user-gw-02# commit vyos@msk-user-gw-02# save ([—Ä–∏—Å. @fig-0513]).

![–°–æ–∑–¥–∞–µ–º —Ç—É–Ω–Ω–µ–ª—å](image/5.13.jpg){#fig-0513 width=70%}

14.–ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫—É—é –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é IPv6:
msk-user-gw-01:
vyos@msk-user-gw-01:~$ configure
vyos@msk-user-gw-01# set protocols static route6
ùóå  1002::0/64 next-hop 1001::2
vyos@msk-user-gw-01# commit vyos@msk-user-gw-01# save
msk-user-gw-02:
vyos@msk-user-gw-02:~$ configure
vyos@msk-user-gw-02# set protocols static route6
ùóå  1000::0/64 next-hop 1001::1
vyos@msk-user-gw-02# commit vyos@msk-user-gw-02# save ([—Ä–∏—Å. @fig-0514]).

![–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é](image/5.14.jpg){#fig-0514 width=70%}

15.–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –æ–∫–æ–Ω–µ—á–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤:
PC1-user:
PC1-user> ping 1002::a PC1-user> trace 1002::a
PC2-user:
PC2-user> ping 1000::a PC2-user> trace 1000::a
–í –æ—Ç—á—ë—Ç–µ –ø–æ—è—Å–Ω–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏. –ò—Å–ø–æ–ª—å–∑—É—è –¥–∞–Ω–Ω—ã–µ, —Å–æ–±—Ä–∞–Ω–Ω—ã–µ –∞–Ω–∞-
–ª–∏–∑–∞—Ç–æ—Ä–æ–º —Ç—Ä–∞—Ñ–∏–∫–∞, –ø–æ—è—Å–Ω–∏—Ç–µ, –≥–¥–µ –∏ –≤ –∫–∞–∫–æ–º –≤–∏–¥–µ —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–∏ –ø–∞–∫–µ—Ç–æ–≤ –ø–æ —Ç—É–Ω–Ω–µ–ª—é. ([—Ä–∏—Å. @fig-0515]).

![–ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤](image/5.15.jpg){#fig-0515 width=70%}

–ü–æ—è—Å–Ω–µ–Ω–∏–µ:

–ü–∏–Ω–≥–∏ –∏ —Ç—Ä–∞—Å—Å—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç, —á—Ç–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –º–µ–∂–¥—É –∫–æ–Ω–µ—á–Ω—ã–º–∏ —É–∑–ª–∞–º–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç, —Ç—É–Ω–Ω–µ–ª—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É–µ—Ç IPv6‚Äë–ø–∞–∫–µ—Ç—ã –∏ –ø–µ—Ä–µ–ø—Ä–∞–≤–ª—è–µ—Ç –∏—Ö –º–µ–∂–¥—É –∫–æ–Ω—Ü–∞–º–∏.
- –î–ª—è –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ —Ç—É–Ω–Ω–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –∑–∞—Ö–≤–∞—Ç–µ —Ç—Ä–∞—Ñ–∏–∫–∞: –Ω–∞–π–¥–∏—Ç–µ –ø–∞–∫–µ—Ç—ã —Å –≤–Ω–µ—à–Ω–∏–º–∏ –∞–¥—Ä–µ—Å–∞–º–∏ —Ç—É–Ω–Ω–µ–ª—å–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–æ–≤ –∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–º –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏ (proto 41/GRE/UDP) –∏ —Ä–∞—Å–∫—Ä–æ–π—Ç–µ –≤–ª–æ–∂–µ–Ω–Ω—ã–π IPv6‚Äë–ø–∞–∫–µ—Ç ‚Äî —Ç–∞–º –±—É–¥—É—Ç –∏—Å—Ö–æ–¥–Ω—ã–π –∏ —Ü–µ–ª–µ–≤–æ–π –∞–¥—Ä–µ—Å–∞ 1000::a/1002::a –∏ ICMPv6‚Äë—Å–æ–æ–±—â–µ–Ω–∏—è.
- –ï—Å–ª–∏ –Ω—É–∂–Ω–æ, —è –º–æ–≥—É:
  - –ø–æ–¥—Å–∫–∞–∑–∞—Ç—å —Ç–æ—á–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã –¥–ª—è –≤–∞—à–µ–≥–æ –∑–∞—Ö–≤–∞—Ç–∞ (—É–∫–∞–∂–∏—Ç–µ, –∫–∞–∫–æ–π –ø—Ä–æ—Ç–æ–∫–æ–ª —Ç—É–Ω–Ω–µ–ª—è –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ ‚Äî 6in4/GRE/UDP/ISATAP/‚Ä¶);
  - —Ä–∞–∑–æ–±—Ä–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø–∞–∫–µ—Ç –∏–∑ –∑–∞—Ö–≤–∞—Ç–∞ –∏ –ø–æ–∫–∞–∑–∞—Ç—å –ø–æ–ª—è outer/inner –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤.

## 8.3.3.–ó–∞–¥–∞–Ω–∏–µ –¥–ª—è —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

1. –ó–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –º–æ–¥–µ–ª–∏—Ä—É–µ–º—É—é —Å–µ—Ç—å: —Å—Ö–µ–º—ã L1, L3, –∑–∞–ø–æ–ª–Ω–∏—Ç—å —Ç–∞–±–ª–∏—Ü—ã –∞–¥—Ä–µ—Å–∞—Ü–∏–∏;

| –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ    | –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å | –ü–æ–¥–∫–ª—é—á–µ–Ω–æ –∫  | –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å–æ—Å–µ–¥–∞ |
| ------------- | --------- | ------------- | ---------------- |
| PC1-user      | eth0      | msk-user-sw01 | Fa0/1            |
| msk-user-sw01 | Fa0/2     | msk-user-gw01 | Gi0/0            |
| msk-user-gw01 | Gi0/1     | msk-user-gw03 | Gi0/0            |
| msk-user-gw01 | Gi0/2     | msk-user-gw04 | Gi0/0            |
| msk-user-gw03 | Gi0/1     | msk-user-gw02 | Gi0/0            |
| msk-user-gw04 | Gi0/1     | msk-user-gw02 | Gi0/1            |
| msk-user-gw02 | Gi0/2     | msk-user-sw02 | Fa0/1            |
| msk-user-sw02 | Fa0/2     | PC2-user      | eth0             |

| –°–µ–≥–º–µ–Ω—Ç           | IPv4          | IPv6              | –£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞                   |
| ----------------- | ------------- | ----------------- | ---------------------------- |
| PC1 ‚ÜîÔ∏è SW1 ‚ÜîÔ∏è GW01  | 10.10.1.96/27 | 2001:DB8:1:1::/64 | PC1-user, msk-user-gw01      |
| GW01 ‚ÜîÔ∏è GW03       | 10.10.1.4/30  | 2001:DB8:1:2::/64 | msk-user-gw01, msk-user-gw03 |
| GW01 ‚ÜîÔ∏è GW04       | 10.10.1.8/30  | 2001:DB8:1:3::/64 | msk-user-gw01, msk-user-gw04 |
| GW03 ‚ÜîÔ∏è GW02       | 10.10.1.16/30 | 2001:DB8:1:4::/64 | msk-user-gw03, msk-user-gw02 |
| GW04 ‚ÜîÔ∏è GW02       | 10.10.1.32/30 | 2001:DB8:1:5::/64 | msk-user-gw04, msk-user-gw02 |
| GW02 ‚ÜîÔ∏è SW02 ‚ÜîÔ∏è PC2 | 10.10.1.64/28 | 2001:DB8:1:6::/64 | msk-user-gw02, PC2-user      |

2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–≤–æ–π–Ω–æ–π —Å—Ç–µ–∫ IPv4 –∏ IPv6, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è ([—Ä–∏—Å. @fig-0516]) –∏ ([—Ä–∏—Å. @fig-0517]).

![–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ç–µ–∫–∞](image/5.16.jpg){#fig-0516 width=70%}

![–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ç–µ–∫–∞](image/5.17.jpg){#fig-0517 width=70%}

–ë–∞–∑–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ ([—Ä–∏—Å. @fig-0518]).

![–ë–∞–∑–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤](image/5.18.jpg){#fig-0518 width=70%}

–ù–∞—Å—Ç—Ä–æ–π–∫–∞ PC1 –∏ PC2 ([—Ä–∏—Å. @fig-0519]).

![–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Å](image/5.19.jpg){#fig-0519 width=70%}

–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏
–ü—Ä–æ—Ç–æ–∫–æ–ª RIP (IPv4) - –Ω–∞ –≤—Å–µ—Ö –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–∞—Ö ([—Ä–∏—Å. @fig-0520]).

![–ü—Ä–æ—Ç–æ–∫–æ–ª —Ä–∏–ø](image/5.20.jpg){#fig-0520 width=70%}

–ü—Ä–æ—Ç–æ–∫–æ–ª RIPng (IPv6) - –Ω–∞ –≤—Å–µ—Ö –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–∞—Ö ([—Ä–∏—Å. @fig-0521]).

![–ü—Ä–æ—Ç–æ–∫–æ–ª —Ä–∏–ø–Ω–≥](image/5.21.jpg){#fig-0521 width=70%}

–ü—Ä–æ—Ç–æ–∫–æ–ª OSPFv2 (IPv4) ([—Ä–∏—Å. @fig-0522]).

![–ü—Ä–æ—Ç–æ–∫–æ–ª –æ—Å–ø—Ñ2](image/5.22.jpg){#fig-0522 width=70%}

–ü—Ä–æ—Ç–æ–∫–æ–ª OSPFv3 (IPv6) - –Ω–∞ –≤—Å–µ—Ö –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–∞—Ö ([—Ä–∏—Å. @fig-0523]).

![–ü—Ä–æ—Ç–æ–∫–æ–ª –æ—Å–ø—Ñ3](image/5.23.jpg){#fig-0523 width=70%}

–ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤:
show ip route
show ipv6 route
show ip route rip
show ipv6 ripng
show ip ospf route
show ipv6 ospf6 route

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–≤—è–∑–Ω–æ—Å—Ç–∏ –º–µ–∂–¥—É PC1 –∏ PC2 ([—Ä–∏—Å. @fig-0524]).

![–ø—Ä–æ–≤–µ—Ä—è–µ–º —Å–≤—è–∑–Ω–æ—Å—Ç—å](image/5.24.jpg){#fig-0524 width=70%}

# –í—ã–≤–æ–¥—ã

–í —Ö–æ–¥–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç—ã, —è –∏–∑—É—á–∏–ª–∞ –ø—Ä–∏–Ω—Ü–∏–ø—ã –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –≤ IPv4- –∏ IPv6-—Å–µ—Ç—è—Ö –∏ –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ –Ω–∞- —Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ç–µ–≤–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è.

# –°–ø–∏—Å–æ–∫ –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä—ã{.unnumbered}

::: {#refs}
:::
